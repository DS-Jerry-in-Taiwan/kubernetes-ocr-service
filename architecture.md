# 系統架構設計

## 高階架構圖

```
                    ┌─────────────────┐
                    │     Client      │
                    │   (curl/Postman)│
                    └─────────┬───────┘
                              │ HTTP
                ┌─────────────▼────────┐
                │   NodePort 30080     │
                │     (K8s Service)    │
                └─────────┬───────┘
                          │
┌─────────────────────────▼─────────────────┐
│            Kubernetes Cluster             │
│  ┌─────────────┐ ┌─────────────┐         │
│  │   Master    │ │   Worker1   │         │
│  │             │ │   Pod1      │         │
│  └─────────────┘ └──────┬──────┘         │
│                         │                │
│  ┌─────────────┐ ┌──────▼──────┐         │
│  │   Worker2   │ │   Pod2      │         │
│  │   Pod3      │ │             │         │
│  └─────────────┘ └─────────────┘         │
└──────────────────────────────────────────┘
                          │
                 ┌────────▼────────┐
                 │  OCR Service    │ ← PaddleOCR
                 │  (FastAPI)      │
                 └─────────────────┘
```

## 技術棧

| 層級           | 技術/版本         |
|----------------|-------------------|
| API Framework  | FastAPI 0.104+    |
| OCR Engine     | PaddleOCR 2.7+    |
| Container      | containerd 1.7+   |
| CNI            | Calico 3.26+      |
| Python         | 3.10-slim         |

## 部署架構說明

- 3 節點 K8s 叢集（1 Master, 2 Worker）
- 每個 Worker 節點可運行多個 OCR Pod
- NodePort 30080 對外暴露 API
- OCR Service 內部整合 PaddleOCR 推論引擎
- 支援自動擴展與故障恢復

